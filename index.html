<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Énigme — Déverrouillage</title>
  <style>
    body{font-family:system-ui,Segoe UI,Arial;max-width:760px;margin:2rem auto;padding:1rem;}
    .card{border:1px solid #ddd;padding:1rem;border-radius:8px;margin-bottom:1rem;}
    input[type="text"]{width:100%;padding:0.6rem;font-size:1rem;margin-top:0.4rem}
    button{padding:0.6rem 1rem;margin-top:0.5rem}
    .lockedContent{display:none;margin-top:1rem}
    .hint{color:#666;font-size:.9rem}
  </style>
</head>
<body>
  <h1>Énigme : Trouve le code</h1>

  <div class="card">
    <h2>Indice</h2>
    <button id="indice">Afficher l'indice</button>
    <p class="lockedContent" id="MessageIndice">Le code se trouvait sous vos yeux.</p>
  </div>

  <div class="card">
    <label for="codeInput">Entrez le code :</label>
    <input id="codeInput" type="text" autocomplete="off" />
    <button id="tryBtn">Déverrouiller</button>
    <p id="message" class="hint"></p>

    <div class="lockedContent" id="lockedContent">
      <h3>Documents déverrouillés</h3>
      <ul>
        <li><a href="fichiers/attestation de droits.png" target="_blank">Attestation de droit</a></li>
        <li><a href="fichiers/contrat d'apprentissage.pdf" target="_blank">Contrat d'apprentissage</a></li>
        <li><a href="fichiers/titre de séjour.png" target="_blank">Titre de séjour</a></li>
      </ul>
    </div>
  </div>

  <script>
    const CORRECT_CODE = "3114";

    const input = document.getElementById('codeInput');
    const btn = document.getElementById('tryBtn');
    const btnIndice = document.getElementById('indice');
    const msg = document.getElementById('message');
    const locked = document.getElementById('lockedContent');
    const Indice = document.getElementById('MessageIndice');

    btn.addEventListener('click', () => {
      const val = input.value.trim();
      if (!val) { msg.textContent = "Tape ton code."; return; }
      if (val === CORRECT_CODE) {
        msg.textContent = "Bravo ! Accès accordé.";
        locked.style.display = "block";
      } else {
        msg.textContent = "Code incorrect — réessaie.";
      }
    });

    btnIndice.addEventListener('click', () => {
      Indice.style.display="block"
    });

    input.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') btn.click(); });
  </script>
</body>
</html>
